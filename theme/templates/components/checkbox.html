{# 
Componente: Checkbox
Uso: include "components/checkbox.html" with name="aceito" label="Aceito os termos"

Parâmetros:
- name: Nome do campo (obrigatório)
- id: ID do elemento (padrão: mesmo que name)
- label: Texto do label (opcional)
- checked: true/false - estado inicial (padrão: false)
- disabled: true/false (padrão: false)
- required: true/false (padrão: false)
- x_model: Modelo Alpine.js para two-way binding (opcional)
- value: Valor do checkbox quando marcado (padrão: "on")
- class: Classes CSS adicionais (opcional)
#}

{% with id=id|default:name checked=checked|default:False disabled=disabled|default:False required=required|default:False value=value|default:"on" %}
<div class="flex items-center space-x-2">
    <div class="relative">
        <input
            type="checkbox"
            {% if name %}name="{{ name }}"{% endif %}
            {% if id %}id="{{ id }}"{% endif %}
            {% if checked %}checked{% endif %}
            {% if disabled %}disabled{% endif %}
            {% if required %}required{% endif %}
            {% if x_model %}x-model="{{ x_model }}"{% endif %}
            value="{{ value }}"
            class="peer sr-only"
        />
        <div 
            class="peer border-input dark:bg-input/30 
                peer-checked:bg-primary peer-checked:text-primary-foreground 
                dark:peer-checked:bg-primary peer-checked:border-primary 
                peer-focus-visible:border-ring peer-focus-visible:ring-ring/50 
                peer-aria-invalid:ring-destructive/20 dark:peer-aria-invalid:ring-destructive/40 
                peer-aria-invalid:border-destructive 
                size-4 shrink-0 rounded-[4px] border shadow-xs 
                transition-shadow outline-none peer-focus-visible:ring-[3px] 
                peer-disabled:cursor-not-allowed peer-disabled:opacity-50
                cursor-pointer flex items-center justify-center
                {{ class|default:'' }}"
            {% if id %}onclick="document.getElementById('{{ id }}').click()"{% endif %}
        >
            <!-- Check Icon -->
            <svg 
                class="size-3.5 text-current opacity-0 peer-checked:opacity-100 transition-opacity"
                fill="none" 
                viewBox="0 0 24 24" 
                stroke="currentColor"
                stroke-width="3"
            >
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
            </svg>
        </div>
    </div>
    
    {% if label %}
        <label 
            {% if id %}for="{{ id }}"{% endif %}
            class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer select-none"
        >
            {{ label }}
        </label>
    {% endif %}
</div>
{% endwith %}
