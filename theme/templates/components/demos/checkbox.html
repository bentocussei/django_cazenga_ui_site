{% extends "components_base.html" %}

{% block title %}Checkbox{% endblock %}
{% block page_title %}Checkbox{% endblock %}
{% block page_description %}Permite seleção múltipla de itens em uma lista de opções.{% endblock %}

{% block component_content %}
<div class="max-w-4xl mx-auto space-y-8">
    <!-- Instalação -->
    <div class="space-y-3">
        <h2 class="text-2xl font-semibold">Instalação</h2>
        <div class="bg-muted rounded-lg p-4 relative" x-data="{ copied: false }">
            <button @click="navigator.clipboard.writeText($refs.code.textContent.trim()); copied = true; setTimeout(() => copied = false, 2000)"
                    class="absolute top-2 right-2 p-2 rounded-md bg-background/80 hover:bg-background border border-border/50 transition-colors">
                <span x-show="!copied">{% include "components/icon.html" with name="copy" size="size-4" %}</span>
                <span x-show="copied" class="text-green-600">{% include "components/icon.html" with name="check" size="size-4" %}</span>
            </button>
            <code class="text-sm" x-ref="code">{% verbatim %}{% include "components/checkbox.html" with name="checkbox" label="Aceitar termos" %}{% endverbatim %}</code>
        </div>
    </div>

    <!-- Exemplos -->
    <div class="space-y-6">
        <h2 class="text-2xl font-semibold">Exemplos</h2>
        
        <!-- Exemplo Básico -->
        <div class="space-y-3">
            <h3 class="text-lg font-medium">Básico</h3>
            <div class="border rounded-lg p-6">
                {% include "components/checkbox.html" with name="checkbox_basic" label="Aceitar termos e condições" %}
            </div>
            <div class="bg-muted rounded p-3 text-sm relative" x-data="{ copied: false }">
                <button @click="navigator.clipboard.writeText($refs.code.textContent.trim()); copied = true; setTimeout(() => copied = false, 2000)"
                        class="absolute top-2 right-2 p-2 rounded-md bg-background/80 hover:bg-background border border-border/50 transition-colors">
                    <span x-show="!copied">{% include "components/icon.html" with name="copy" size="size-4" %}</span>
                    <span x-show="copied" class="text-green-600">{% include "components/icon.html" with name="check" size="size-4" %}</span>
                </button>
                <code x-ref="code">{% verbatim %}{% include "components/checkbox.html" with name="checkbox_basic" label="Aceitar termos e condições" %}{% endverbatim %}</code>
            </div>
        </div>

        <!-- Exemplo Marcado -->
        <div class="space-y-3">
            <h3 class="text-lg font-medium">Marcado</h3>
            <div class="border rounded-lg p-6">
                {% include "components/checkbox.html" with name="checkbox_checked" label="Opção já marcada" checked=True %}
            </div>
            <div class="bg-muted rounded p-3 text-sm relative" x-data="{ copied: false }">
                <button @click="navigator.clipboard.writeText($refs.code.textContent.trim()); copied = true; setTimeout(() => copied = false, 2000)"
                        class="absolute top-2 right-2 p-2 rounded-md bg-background/80 hover:bg-background border border-border/50 transition-colors">
                    <span x-show="!copied">{% include "components/icon.html" with name="copy" size="size-4" %}</span>
                    <span x-show="copied" class="text-green-600">{% include "components/icon.html" with name="check" size="size-4" %}</span>
                </button>
                <code x-ref="code">{% verbatim %}{% include "components/checkbox.html" with name="checkbox_checked" label="Opção já marcada" checked=True %}{% endverbatim %}</code>
            </div>
        </div>

        <!-- Exemplo Desabilitado -->
        <div class="space-y-3">
            <h3 class="text-lg font-medium">Desabilitado</h3>
            <div class="border rounded-lg p-6 space-y-4">
                {% include "components/checkbox.html" with name="checkbox_disabled" label="Opção desabilitada" disabled=True %}
                {% include "components/checkbox.html" with name="checkbox_disabled_checked" label="Opção desabilitada e marcada" disabled=True checked=True %}
            </div>
            <div class="bg-muted rounded p-3 text-sm relative" x-data="{ copied: false }">
                <button @click="navigator.clipboard.writeText($refs.code.textContent.trim()); copied = true; setTimeout(() => copied = false, 2000)"
                        class="absolute top-2 right-2 p-2 rounded-md bg-background/80 hover:bg-background border border-border/50 transition-colors">
                    <span x-show="!copied">{% include "components/icon.html" with name="copy" size="size-4" %}</span>
                    <span x-show="copied" class="text-green-600">{% include "components/icon.html" with name="check" size="size-4" %}</span>
                </button>
                <code x-ref="code">{% verbatim %}{% include "components/checkbox.html" with name="checkbox_disabled" label="Opção desabilitada" disabled=True %}{% endverbatim %}</code>
            </div>
        </div>

        <!-- Exemplo com Grupo -->
        <div class="space-y-3">
            <h3 class="text-lg font-medium">Grupo de Opções</h3>
            <div class="border rounded-lg p-6">
                <div class="space-y-4" x-data="{ 
                    selections: [],
                    updateSelection(value, checked) {
                        if (checked) {
                            this.selections.push(value);
                        } else {
                            this.selections = this.selections.filter(item => item !== value);
                        }
                    }
                }">
                    <h4 class="font-medium text-sm">Selecione suas preferências:</h4>
                    <div class="space-y-2">
                        {% for option in checkbox_options %}
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" 
                                   name="preferences" 
                                   value="{{ option.value }}"
                                   @change="updateSelection('{{ option.value }}', $event.target.checked)"
                                   class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <span class="text-sm">{{ option.label }}</span>
                        </label>
                        {% endfor %}
                    </div>
                    <div class="mt-4 p-3 bg-muted rounded text-sm">
                        <strong>Selecionados:</strong> <span x-text="selections.length ? selections.join(', ') : 'Nenhum'"></span>
                    </div>
                </div>
            </div>
            <div class="bg-muted rounded p-3 text-sm relative" x-data="{ copied: false }">
                <button @click="navigator.clipboard.writeText($refs.code.textContent.trim()); copied = true; setTimeout(() => copied = false, 2000)"
                        class="absolute top-2 right-2 p-2 rounded-md bg-background/80 hover:bg-background border border-border/50 transition-colors">
                    <span x-show="!copied">{% include "components/icon.html" with name="copy" size="size-4" %}</span>
                    <span x-show="copied" class="text-green-600">{% include "components/icon.html" with name="check" size="size-4" %}</span>
                </button>
                <code x-ref="code">{% verbatim %}{% for option in checkbox_options %}
{% include "components/checkbox.html" with name="preferences" label=option.label value=option.value %}
{% endfor %}{% endverbatim %}</code>
            </div>
        </div>
    </div>

    <!-- Parâmetros -->
    <div class="space-y-3">
        <h2 class="text-2xl font-semibold">Parâmetros</h2>
        <div class="rounded-lg border bg-card">
            <div class="overflow-x-auto">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="border-b">
                            {% for header in checkbox_params.headers %}
                                <th class="p-3 text-left font-medium">{{ header|safe }}</th>
                            {% endfor %}
                        </tr>
                    </thead>
                    <tbody>
                        {% for row in checkbox_params.data %}
                            <tr class="border-b last:border-b-0">
                                {% for cell in row %}
                                    <td class="p-3">{{ cell|safe }}</td>
                                {% endfor %}
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock %} 