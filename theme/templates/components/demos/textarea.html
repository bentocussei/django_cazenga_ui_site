{% extends "components_base.html" %}

{% block title %}Textarea{% endblock %}
{% block page_title %}Textarea{% endblock %}
{% block page_description %}Campo de texto multilinha para entrada de texto longo com suporte a redimensionamento e validação.{% endblock %}

{% block component_content %}
<div class="space-y-6">
    <!-- Cabeçalho -->
    <div class="border-b border-border pb-4">
        <div class="flex items-center justify-between">
            <div>
                <h1 class="text-3xl font-bold">Textarea</h1>
                <p class="text-muted-foreground mt-1">Componente para entrada de texto multilinha</p>
            </div>
            <a href="/components/" data-spa-link class="inline-flex items-center justify-center rounded-radius-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2">
                Voltar
            </a>
        </div>
    </div>

    <!-- Instalação -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Instalação</h2>
        <div class="relative">
            <pre class="bg-muted p-4 rounded-radius-md overflow-x-auto text-sm"><code>{% verbatim %}{% include 'components/textarea.html' with name="mensagem" placeholder="Digite sua mensagem..." %}{% endverbatim %}</code></pre>
            <button 
                class="absolute top-2 right-2 p-2 bg-background rounded-radius-md shadow-sm hover:bg-accent border border-border"
                x-data 
                @click="navigator.clipboard.writeText('{% verbatim %}{% include \'components/textarea.html\' with name=\'mensagem\' placeholder=\'Digite sua mensagem...\' %}{% endverbatim %}')"
                title="Copiar código"
            >
                {% svg_icon "copy" "size-4" %}
            </button>
        </div>
    </div>

    <!-- Exemplo Básico -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Exemplo Básico</h2>
        <div class="border border-border rounded-radius-lg p-6">
            <div class="space-y-2">
                <label for="basic-textarea" class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                    Mensagem
                </label>
                <textarea 
                    id="basic-textarea"
                    name="message"
                    class="flex min-h-[80px] w-full rounded-radius-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                    placeholder="Digite sua mensagem aqui..."
                ></textarea>
            </div>
        </div>
    </div>

    <!-- Tamanhos -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Tamanhos</h2>
        <div class="border border-border rounded-radius-lg p-6">
            <div class="space-y-4">
                <!-- Pequeno -->
                <div class="space-y-2">
                    <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                        Pequeno (2 linhas)
                    </label>
                    <textarea 
                        class="flex min-h-[60px] w-full rounded-radius-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                        rows="2"
                        placeholder="Texto pequeno..."
                    ></textarea>
                </div>

                <!-- Médio -->
                <div class="space-y-2">
                    <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                        Médio (4 linhas)
                    </label>
                    <textarea 
                        class="flex min-h-[100px] w-full rounded-radius-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                        rows="4"
                        placeholder="Texto médio..."
                    ></textarea>
                </div>

                <!-- Grande -->
                <div class="space-y-2">
                    <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                        Grande (6 linhas)
                    </label>
                    <textarea 
                        class="flex min-h-[150px] w-full rounded-radius-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                        rows="6"
                        placeholder="Texto grande..."
                    ></textarea>
                </div>
            </div>
        </div>
    </div>

    <!-- Estados -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Estados</h2>
        <div class="border border-border rounded-radius-lg p-6">
            <div class="space-y-4">
                <!-- Normal -->
                <div class="space-y-2">
                    <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                        Normal
                    </label>
                    <textarea 
                        class="flex min-h-[80px] w-full rounded-radius-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                        placeholder="Estado normal"
                    ></textarea>
                </div>

                <!-- Desabilitado -->
                <div class="space-y-2">
                    <label class="text-sm font-medium leading-none opacity-50">
                        Desabilitado
                    </label>
                    <textarea 
                        class="flex min-h-[80px] w-full rounded-radius-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                        placeholder="Campo desabilitado"
                        disabled
                    ></textarea>
                </div>

                <!-- Somente Leitura -->
                <div class="space-y-2">
                    <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                        Somente Leitura
                    </label>
                    <textarea 
                        class="flex min-h-[80px] w-full rounded-radius-md border border-input bg-muted px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                        readonly
                    >Este campo é somente leitura e não pode ser editado.</textarea>
                </div>

                <!-- Com Erro -->
                <div class="space-y-2">
                    <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                        Com Erro
                    </label>
                    <textarea 
                        class="flex min-h-[80px] w-full rounded-radius-md border border-destructive bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-destructive focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                        placeholder="Campo com erro"
                    ></textarea>
                    <p class="text-sm text-destructive">Este campo contém um erro</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Controle de Redimensionamento -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Controle de Redimensionamento</h2>
        <div class="border border-border rounded-radius-lg p-6">
            <div class="space-y-4">
                <!-- Sem redimensionamento -->
                <div class="space-y-2">
                    <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                        Sem redimensionamento
                    </label>
                    <textarea 
                        class="flex min-h-[80px] w-full rounded-radius-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-none"
                        placeholder="Não pode ser redimensionado"
                    ></textarea>
                </div>

                <!-- Redimensionamento vertical -->
                <div class="space-y-2">
                    <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                        Redimensionamento vertical
                    </label>
                    <textarea 
                        class="flex min-h-[80px] w-full rounded-radius-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-y"
                        placeholder="Pode ser redimensionado verticalmente"
                    ></textarea>
                </div>

                <!-- Redimensionamento horizontal -->
                <div class="space-y-2">
                    <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                        Redimensionamento horizontal
                    </label>
                    <textarea 
                        class="flex min-h-[80px] w-full rounded-radius-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 resize-x"
                        placeholder="Pode ser redimensionado horizontalmente"
                    ></textarea>
                </div>

                <!-- Redimensionamento livre -->
                <div class="space-y-2">
                    <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                        Redimensionamento livre
                    </label>
                    <textarea 
                        class="flex min-h-[80px] w-full rounded-radius-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                        placeholder="Pode ser redimensionado livremente"
                    ></textarea>
                </div>
            </div>
        </div>
    </div>

    <!-- Textarea com Contador -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Textarea com Contador</h2>
        <div class="border border-border rounded-radius-lg p-6">
            <div x-data="{ 
                message: '',
                maxLength: 200,
                get remaining() {
                    return this.maxLength - this.message.length;
                },
                get percentage() {
                    return (this.message.length / this.maxLength) * 100;
                }
            }" class="space-y-2">
                <label class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70">
                    Mensagem (máximo 200 caracteres)
                </label>
                <textarea 
                    x-model="message"
                    :maxlength="maxLength"
                    class="flex min-h-[100px] w-full rounded-radius-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                    placeholder="Digite sua mensagem..."
                ></textarea>
                <div class="flex justify-between items-center text-sm">
                    <span 
                        class="text-muted-foreground"
                        :class="{ 'text-destructive': remaining < 20, 'text-orange-500': remaining < 50 && remaining >= 20 }"
                        x-text="`${message.length}/${maxLength} caracteres`"
                    ></span>
                    <div class="w-20 bg-gray-200 rounded-full h-1.5">
                        <div 
                            class="h-1.5 rounded-full transition-all duration-300"
                            :class="{ 
                                'bg-green-500': percentage < 70, 
                                'bg-orange-500': percentage >= 70 && percentage < 90, 
                                'bg-red-500': percentage >= 90 
                            }"
                            :style="`width: ${Math.min(percentage, 100)}%`"
                        ></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Parâmetros -->
    <div class="space-y-4">
        <h2 class="text-2xl font-semibold">Parâmetros</h2>
        <div class="overflow-x-auto">
            <table class="w-full caption-bottom text-sm border-collapse">
                <thead>
                    <tr class="border-b border-border">
                        {% for header in textarea_params.headers %}
                        <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground">
                            {{ header }}
                        </th>
                        {% endfor %}
                    </tr>
                </thead>
                <tbody>
                    {% for row in textarea_params.data %}
                    <tr class="border-b border-border">
                        {% for cell in row %}
                        <td class="p-4 align-middle">
                            {{ cell|safe }}
                        </td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %} 